function KSh(a){if(a.D)return a.D;a.D=[];var b=TG(a);a.D=Vc(b,function(c){var d=Fke(c);if(Lh(d,12))return new QT(null,N().ERa()(Lh(d,12)));c=Un(N().Uw()(c,!1));return new QT(qE(c),null)});return a.D}function LSh(a,b,c){return Hx(vcb(Jx(Fx(a).uh),Jx(Fx(b).uh),c))}function MSh(a){var b=a.C.cloneNode(!1);a.oa().xr(b,a.C);return b}
function NSh(a,b){var c=b.getContext("2d"),d=CL(a.D),e=a.D.Mb(),f=KK(a.D),h=LK(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;Etc(a.C,c,0,0,0,0,d.width,h);Etc(a.C,c,e,h,e,h,f,k)}function OSh(a){this.gb=uh(a,-1,0)}u(OSh,yh);OSh.prototype.toBuilder=function(){return new PSh(this)};function PSh(a){Nh.call(this,a)}u(PSh,Nh);function QSh(a,b,c){wH.call(this,131);this.F=a;this.J=b;this.C=c}u(QSh,wH);QSh.prototype.Jd=function(){var a=void 0===a?Ah(OSh):a;a=new PSh(a);a=Xh(a,1,this.F);a=Ph(a,4,this.C);var b=x2e(this.J);return Uh(a,3,b).build()};function RSh(a){this.gb=uh(a,-1,0)}u(RSh,yh);RSh.prototype.toBuilder=function(){return new SSh(this)};function SSh(a){Nh.call(this,a)}u(SSh,Nh);function TSh(a,b){wH.call(this,132);this.C=a;this.F=b}u(TSh,wH);TSh.prototype.Jd=function(){var a=void 0===a?Ah(RSh):a;a=new SSh(a);a=Xh(a,1,this.C);return Xh(a,2,this.F).build()};TSh.prototype.xg=l(!1);function USh(a){this.gb=uh(a,-1,0)}u(USh,yh);USh.prototype.toBuilder=function(){return new VSh(this)};function VSh(a){Nh.call(this,a)}u(VSh,Nh);function WSh(a,b,c){wH.call(this,41);this.C=b;this.F=c}u(WSh,wH);WSh.prototype.Jd=function(){var a=void 0===a?Ah(USh):a;a=new VSh(a);a=Xh(a,1,this.C);return Ph(a,2,this.F).build()};WSh.prototype.xg=l(!1);WSh.prototype.Jk=l("Filter view duplicated");function XSh(a){this.gb=uh(a,-1,0)}u(XSh,yh);XSh.prototype.toBuilder=function(){return new YSh(this)};XSh.prototype.getName=function(){return Lh(this,2)};function YSh(a){Nh.call(this,a)}u(YSh,Nh);YSh.prototype.getName=function(){return this.message.getName()};function ZSh(a,b,c){wH.call(this,43);this.F=b;this.C=c}u(ZSh,wH);ZSh.prototype.Jd=function(){var a=void 0===a?Ah(XSh):a;a=new YSh(a);a=Xh(a,1,this.F);return Xh(a,2,this.C).build()};ZSh.prototype.xg=l(!1);ZSh.prototype.Jk=function(){return"Filter view renamed to "+this.C};function $Sh(a,b){a=a.c_b;return R('<div class="'+T("waffle-filter-bar-rangepill")+" "+T("goog-inline-block")+'" tabindex="0"><span class="'+T("waffle-filter-bar-rangepill-range")+" "+T("goog-inline-block")+'"></span>'+G_e({enabled:"true",Ee:"waffle-filter-bar-rangepill-close",hidden:a},b)+"</div>")};function aTh(a,b,c,d,e){P.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}u(aTh,P);aTh.prototype.Ba=function(){this.pb(yt($Sh,{c_b:this.D}));this.oa().He(this.Fa("waffle-filter-bar-rangepill-range"),bTh(this))};aTh.prototype.Ia=function(){P.prototype.Ia.call(this);this.getHandler().Gf(this.La(),mn,this.L);if(!this.D){var a=new Fv("",new Dv,this.oa());this.Ha(a);var b=this.Fa("waffle-filter-bar-rangepill-close");a.Wa(b);Yv(b,"Remove",void 0);this.getHandler().listen(a,"action",this.J)}};
aTh.prototype.L=function(a){a.target!=this.Fa("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new fn("Hk",this))};aTh.prototype.J=function(a){this.dispatchEvent(new fn("Ik",this));a.stopPropagation()};function bTh(a){return iYe(a.H,a.C)?jYe(a.H,a.C,!1):"#REF"};function cTh(){var a='<div class="'+T("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+T("waffle-filter-bar-header")+" "+T("waffle-filter-bar-range-label")+" "+T("goog-inline-block")+'">';a=a+'Ranges:</span><div class="'+(T("waffle-filter-bar-range-filter-pills-container")+" "+T("goog-inline-block")+'"></div><div class="'+T("waffle-filter-bar-add-range-filter-button")+" "+T("goog-inline-block")+'">');a=a+'Add new range</div><input class="'+(T("jfk-textinput")+
" "+T("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+T("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return R(a)};function dTh(a,b,c,d){P.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new P;this.Ha(this.L);this.H=new Fv(void 0,Yx.getInstance(),d);this.Ha(this.H);this.F=new xx(void 0,d);this.Ha(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.V=!1}u(dTh,P);p=dTh.prototype;
p.Ba=function(){this.pb(yt(cTh));this.L.Wa(this.Fa("waffle-filter-bar-range-filter-pills-container"));this.H.Wa(this.Fa("waffle-filter-bar-add-range-filter-button"));this.H.Na(!0);var a=this.Fa("waffle-filter-bar-range-pill-input");this.F.Wa(a)};
p.Ia=function(){P.prototype.Ia.call(this);var a=new Zu,b=this.F.La();$u(a,b);b=new su(b);this.getHandler().listen(this.L,"Hk",this.gHb).listen(this.L,"Ik",this.IFb).listen(a,"key",this.tbc).listen(b,"focusin",this.rbc).listen(b,"focusout",this.sbc).listen(this.H,"action",this.EAb)};p.Qc=function(){var a=this;this.L.xd(!0);Sc(eTh(this),function(b){a.L.Ha(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,fTh(a,a.D.La()))})};
p.gHb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&gTh(this);this.D=a.target;this.F.setValue(bTh(this.D));fTh(this,this.D.La());this.C="waffle-filter-bar-range-filter-pill-edit"};p.IFb=function(a){var b=yG(this.J)?this.J.getActiveGrid().Gc().D:null;if(b&&(b=SG(b))){a=a.target;var c={};cob.qb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};
p.EAb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&gTh(this);var a=this.J.getActiveGrid().Gc().C;this.F.setValue(jK(a));fTh(this,this.H.La());this.C="waffle-filter-bar-range-section-mode-add"};function fTh(a,b){var c=a.F.La();Ys(c,$s(b).width);a.oa().xr(c,b);O(b,!1);O(c,!0);b=new Ho(function(){return Ax(a.F)});a.qa(b);b.start()}
function gTh(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(O("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.La():a.H.La(),!0),O(a.F.La(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}p.tbc=function(a){13==a.keyCode?(hTh(this),gTh(this),this.O.Db(3)):27==a.keyCode&&(gTh(this),this.Qc(),this.O.Db(3));a.stopPropagation()};p.sbc=function(){this.getParent().Hd&&(hTh(this),gTh(this))};p.rbc=function(){this.O.Db(2)};
function eTh(a){var b=yG(a.J)?a.J.getActiveGrid().Gc().D:null;if(!b||!SG(b))return[];var c=TG(b),d=1==c.length;return Vc(KSh(b),function(e,f){return new aTh(c[f++],e,a.R,d)})}
function hTh(a){if(!a.V){var b=Gd(a.F.getValue());if((b=mYe(a.R,b))&&iYe(a.R,b)){a.V=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=SG(BG(a.J).D),d={};aob.qb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},tz.qb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.V=!1}}};function iTh(){return R('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function jTh(){return R('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function kTh(a,b){a=a.TZb;var c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
(T("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+Adb({enabled:!0,title:"Options",id:"waffle-filter-bar-options",Ao:"waffle-filter-bar-options",qH:Ft(""+Zx({icon:"docs-icon-img docs-icon-settings-white"},b))});c+=Bdb({id:"waffle-filter-bar-close",Ee:"waffle-filter-bar-close"},b)+"</div></div>";return R(c)};function lTh(a,b,c,d,e,f){QX.call(this,f);this.Oa=a;this.ib=b;this.Pa=c;this.Ga=d;this.Aa=e;this.R=null;this.oO=new xx(void 0,f);this.Ha(this.oO);this.Ka=null;this.va=new Vx;this.Ha(this.va);this.ma=null;this.JF=new xx(void 0,f);this.Ha(this.JF);if(this.L=y(A(),"femrfifv"))this.Ca=new dTh(a,d,e),this.Ha(this.Ca);this.C=null;this.Za=new Jv("Rename");this.$a=new Jv("Update Range");this.Ta=new Jv("Duplicate");this.Qa=new Jv("Delete");this.Xa=new Jv("Learn more");this.F=new Uv(null,null,Yx.getInstance(),
f);this.F.Wc(this.Za);this.L||this.F.Wc(this.$a);this.F.Wc(this.Ta);this.F.Wc(this.Qa);this.F.Wc(new Nv);this.F.Wc(this.Xa);this.Ha(this.F);this.O=new Fv(void 0,Yx.getInstance(),f);this.Ha(this.O)}u(lTh,QX);p=lTh.prototype;p.xPa=l("waffle-slidingdialog-filterbar");p.x1a=function(){return yt(kTh,{TZb:this.L})};
p.Ia=function(){QX.prototype.Ia.call(this);var a=this.Fa("waffle-filter-bar-name-input");this.oO.Wa(a);ku(a,"label-input-label");this.va.Wa(a);this.R=this.Fa("waffle-filter-bar-name-readonly");this.Ka=this.Fa("waffle-filter-bar-name-label");this.L?this.Ca.render(this.Fa("waffle-filter-bar-range-section-container")):(a=this.Fa("waffle-filter-bar-range-input"),this.JF.Wa(a),this.ma=this.Fa("waffle-filter-bar-range-readonly"),mTh(this));this.F.Wa(this.Fa("waffle-filter-bar-options"));this.F.Na(!0);this.O.Wa(this.Fa("waffle-filter-bar-close"));
this.O.Na(!0);nTh(this);oTh(this)};
function oTh(a){var b=xE(a.ib),c=new Zu;$u(c,a.oO.getElement());var d=new su(a.oO.getElement()),e=new Zu;$u(e,a.O.getElement());a.getHandler().listen(a.O,"action",a.vbc).listen(b,["rc","tc","uc"],a.Qc).listen(c,"key",a.UNb).listen(e,"key",a.FVb).listen(d,"focusin",a.z1a).listen(d,"focusout",a.TNb);sz.zb(yp,function(){return nTh(a)});b=new rw(void 0,void 0,!0,jy.getInstance());tw(b,a.Za,sz);tw(b,a.Ta,qz);tw(b,a.Qa,pz);tw(b,a.Xa,(bq(),Xr),void 0,a.HQa);a.L||(c=new Zu,$u(c,a.JF.getElement()),d=new su(a.JF.getElement()),
a.getHandler().listen(c,"key",a.xbc).listen(d,"focusin",a.z1a).listen(d,"focusout",a.wbc),tz.zb(yp,function(){return mTh(a)}),tw(b,a.$a,tz))}p.setVisible=function(a,b){QX.prototype.setVisible.call(this,a,b);a&&this.Qc();!a&&this.C&&(this.C.setVisible(!1),this.C=null)};
p.f4a=function(){var a=pTh(this);if(a&&(a=XG(a),this.Pa.D[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=yt(a?jTh:iTh);this.C=new sy(this.oa().getElement("waffle-filter-bar-promo"));this.qa(this.C);this.C.setPosition(1,0);this.C.setContent(b);wv(this.C,!1);this.C.sF=!0;this.C.render();b=this.oa().getElement("waffle-filterbar-promo-dismiss-link");mn.listen(b,this.yha,!1,this);b=this.oa().getElement("waffle-filterbar-promo-learn-more-link");mn.listen(b,this.XVa,
!1,this);this.getHandler().listen(this.C,"hide",this.yha);qK(this.Pa,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.yha=function(){if(this.C){var a=this.oa().getElement("waffle-filterbar-promo-dismiss-link");mn.Kc(a,this.yha,!1,this);a=this.oa().getElement("waffle-filterbar-promo-learn-more-link");mn.Kc(a,this.XVa,!1,this);this.getHandler().Kc(this.C,"hide",this.yha);this.C.setVisible(!1);this.C=null}};
p.Qc=function(){var a=pTh(this);if(a){var b=SG(a);if(b){this.F.setVisible(!XG(a));O(this.Ka,!XG(a));b=oUb(b);var c="Name: "+b;this.va.setValue(b);this.oa().He(this.R,b);eu(this.R,c);this.L?this.Ca.Qc():(a=KSh(a)[0],a=iYe(this.Aa,a)?jYe(this.Aa,a,!1):"#REF",b="Range: "+a,this.JF.setValue(a),this.oa().He(this.ma,a),eu(this.ma,b))}}};p.vbc=function(){this.dispatchEvent("close");qTh(this)};p.UNb=function(a){13==a.keyCode?(rTh(this),qTh(this)):27==a.keyCode&&(this.Qc(),a.stopPropagation(),qTh(this))};
p.xbc=function(a){13==a.keyCode?(sTh(this),qTh(this)):27==a.keyCode&&(this.Qc(),a.stopPropagation(),qTh(this))};p.FVb=function(a){a.shiftKey||9!=a.keyCode||(qTh(this),a.stopPropagation())};function qTh(a){a.Ga.Db(3)}p.z1a=function(){this.Ga.Db(2)};p.TNb=function(){this.Hd&&rTh(this)};p.wbc=function(){this.Hd&&sTh(this)};function nTh(a){var b=sz.isEnabled();O(a.oO.getElement(),b);O(a.R,!b)}function mTh(a){var b=tz.isEnabled();O(a.JF.getElement(),b);O(a.ma,!b)}
function rTh(a){var b=pTh(a);if(b){b=SG(b);var c=oUb(b),d=Gd(a.oO.getValue());c==d?a.Qc():(a={},sz.qb((a.name=d,a["filter-view-id"]=b,a)))}}function sTh(a){var b=pTh(a);if(b){var c=TG(b)[0],d=Gd(a.JF.getValue());(d=mYe(a.Aa,d))?KSh(b)[0].equals(d)?a.Qc():(a={},tz.qb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Qc()}}p.XVa=function(){(bq(),Xr).qb(this.HQa())};p.HQa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){Ax(this.oO)};
function pTh(a){return yG(a.Oa)?a.Oa.getActiveGrid().Gc().D:null};function tTh(a){this.gb=uh(a,-1,0)}u(tTh,yh);tTh.prototype.toBuilder=function(){return new uTh(this)};tTh.prototype.eb=function(){return Lh(this,1)};tTh.prototype.getRange=function(){return this.tb(2,Tn)};function uTh(a){Nh.call(this,a)}u(uTh,Nh);uTh.prototype.eb=function(){return this.message.eb()};uTh.prototype.getRange=function(){return this.message.getRange()};function vTh(a,b,c,d){wH.call(this,70);this.J=a.Ib();this.C=b;this.F=c;this.L=d}u(vTh,wH);vTh.prototype.Jd=function(){var a=void 0===a?Ah(tTh):a;a=new uTh(a);a=Xh(a,1,this.J);a=Xh(a,4,this.C);var b=x2e(this.F);return Uh(a,3,b).build()};vTh.prototype.Jk=function(){return"Filter range updated to "+(this.L+".")};function wTh(a,b,c,d,e,f){PX.call(this,"waffle-filterbar-id",e);this.O=w(this.Rrc,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new pw(this);this.qa(this.J);this.J.subscribe(qz,"action",this.bHb).subscribe(pz,"action",this.HFb).subscribe(sz,"action",this.MRb).subscribe(tz,"action",this.SWb).subscribe(aob,"action",this.ubc).subscribe(cob,"action",this.JFb)}u(wTh,PX);p=wTh.prototype;p.Rrc=function(){this.C.setVisible(!0)};
p.HFb=function(){var a=xTh(this),b=SG(a.D);b&&this.D.C(new hye(a,b))};p.bHb=function(){var a=xTh(this),b=SG(a.D);b&&this.D.C(new WSh(a,b,!this.F.H.C))};p.MRb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&Gd(a))&&a.length){var c=xTh(this);this.D.C(new ZSh(c,b,a))}else this.C.Qc()}else Ax(this.C.oO)};p.SWb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=xTh(this),d=jYe(this.F.Xa,a,!1);this.D.C(new vTh(c,b,a,d))}else Ax(this.C.JF)};
p.ubc=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=xTh(this);this.D.C(new QSh(b,a,XG(c.D)))}else Ax(this.C.JF)};p.JFb=function(a){a?this.D.C(new TSh(a["filter-view-id"],a["range-filter-id"])):Ax(this.C.JF)};p.Y5=function(){return new lTh(this.H,this.L,this.ma,this.R,this.F.Xa)};p.bD=function(){PX.prototype.bD.call(this);this.getHandler().listen(this.C,"close",this.DWb);this.cM()};p.Kp=l("waffle-filterbar-id");p.DWb=function(){var a=xTh(this);this.D.C(new kO(a,null))};
p.setVisible=function(a,b){this.C.setVisible(a,b)};function xTh(a){return a.H.getActiveGrid().Gc()};function yTh(a,b,c,d,e,f,h){B.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.V=e;this.R=f;this.ma=h;this.H=new rn(this);this.qa(this.H);this.C=this.D=null;a=xE(this.J);this.H.listen(a,["rc","sc","tc","uc"],this.ybc).listen(this.F,["pa","Fa"],this.Abc).listen(this.F,["oa","Ga"],this.zbc);bob.zb(Ap,w(this.cBb,this));zTh(this,!1)}u(yTh,B);function zTh(a,b){if(a.F.C)if(yG(a.F)){var c=BG(a.F).D,d=WG(c);c=d&&!YG(c);ATh(a,d,c,b)}else ATh(a,!1,!1,b)}
function ATh(a,b,c,d){b&&!c&&a.C?a.C.play():a.C&&a.C.stop();c&&!a.D&&(a.D=new wTh(a.F,a.J,a.O,a.V,a.R,a.ma),a.qa(a.D),a.H.listen(a.D,"end",a.UBb),a.D.show());if(a.D&&(a.D.setVisible(c,d),d)){if(a=CH(a.L))b=a.va.Za,c=c?1:0,LSh("#555555","#f3f3f3",c),LSh("#363636","#ddd",c),LSh("#516374","#8fb1e8",c),LSh("white","black",c),LSh("white","green",c),b.C.color=LSh("#3c3c3c","#ccc",c),Xtc(a.va,a.va.L,null,!0,!0);wse()}}p=yTh.prototype;p.UBb=function(){wse();this.C&&this.C.play(!0)};
p.ybc=function(){zTh(this,!1)};p.Abc=function(){ATh(this,!1,!1,!0)};p.zbc=function(){zTh(this,!0)};p.cBb=function(){var a=this;this.C&&this.C.stop();var b=CH(this.L);if(b){b=b.va;var c=MSh(b);Js(c,"z-index",3);Js(c,"pointer-events","none");c.removeAttribute("moz-opaque");NSh(b,c);this.C=C5a(c,.35);this.H.Rc(this.C,"end",function(){pm(c);Qf(a.C);a.C=null})}};function BTh(){Cn.apply(this,arguments)}u(BTh,Cn);BTh.prototype.C=function(){return yTh};Jn("filterbar",BTh);
